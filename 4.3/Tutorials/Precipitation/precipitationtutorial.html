<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" ><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" >
  <title>Precipitation Tutorial &mdash; Simul  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" >
    <link rel="shortcut icon" href="../../_static/favicon.ico">
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" >
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="next" title="How it works" href="precipitationhowitworks.html" >
    <link rel="prev" title="Precipitation" href="../precipitation.html" > 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
			<a href="../../index.html"  class="" >
				
					<span class="sidebartitle">
						trueSKY 4.3
					</span>
				
			</a>
<div role="search">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
        <label class="search-label" for="q">Search the documentation</label>
        <input type="text" name="q" id="q" placeholder="Search..." aria-label="Search docs" >
        <input type="hidden" name="check_keywords" value="yes" >
        <input type="hidden" name="area" value="default" >
    </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation and Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../tutorialsindex.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sequencer.html">Sky Sequencer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clouds.html">Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sky.html">Sky</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lighting.html">Lighting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aurorae.html">Aurorae</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../precipitation.html">Precipitation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Precipitation Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cloud-window">Cloud Window</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cloud-map-texture">Cloud Map Texture</a></li>
<li class="toctree-l4"><a class="reference internal" href="#wind-speed-affecting-rain">Wind Speed Affecting Rain</a></li>
<li class="toctree-l4"><a class="reference internal" href="#precipitation-under-cover">Precipitation under cover?</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="precipitationhowitworks.html">How it works</a></li>
<li class="toctree-l3"><a class="reference internal" href="precipitationvariables.html">Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../precipitation.html#no-precipitation">No Precipitation?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rainbows.html">Rainbows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storms.html">Storms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../water.html">Water</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time.html">Progressing Time</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../unreal.html">trueSKY for Unreal Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../unity.html">trueSKY for Unity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../skysequencer.html">Sky Sequencer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming.html">Programming with the trueSKY SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legalindex.html">trueSKY Licences</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../API/apiindex.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Reference/referenceindex.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelist.html">Changelist</a></li>
</ul>

        </div>
      </div>
    </nav>

    <div data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
		<h2 class="wy-nav-top">Navigation</h2><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Simul</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../tutorialsindex.html">Tutorials</a></li>
          <li class="breadcrumb-item"><a href="../precipitation.html">Precipitation</a></li>
      <li class="breadcrumb-item active">Precipitation Tutorial</li>
      <li class="wy-breadcrumbs-aside">
        ﻿
<div class="truesky-version-switch">
    <button id="version-switch-button">Switch Version</button>
</div>

<script>
    const switchButton = document.getElementById('version-switch-button');

    // current URL
    const currentURL = window.location.href;


    const isVersion4_3 = currentURL.includes('/4.3');
    const isVersion4_4 = currentURL.includes('/4.4');

    if (isVersion4_3) {
        switchButton.textContent = 'Switch to 4.4';
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.4';
        });
    } else if (isVersion4_4) {
        switchButton.textContent = 'Switch to 4.3';
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.3';
        });
    } else {
        switchButton.textContent = 'Switch to 4.3'; 
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.3';
        });
    }
</script>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="precipitation-tutorial">
<h1>Precipitation Tutorial<a class="headerlink" href="#precipitation-tutorial" title="Permalink to this heading">¶</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading">¶</a></h2>
<p>Precipitation is controlled by cloud keyframes under the Precipitation section in the Properties window. By default, precipitation is unbound. This means as long as you are underneath clouds of a specified thickness:doc:<cite>(Threshold Km)&lt;/precipitationvariables&gt;</cite>, precipitation will be visible. Alternatively, in the properties panel of a cloud keyframe we have an checkbox for Regional precipitation. The regional bounding limits the range and position of the precipitation; also called precipitation regions. These regions can be positioned and moved at runtime. A Cloud Map Texture, which are explained later, also act to bound the precipitation by defining the shape of the clouds (see section on Cloud Map Texture).</p>
<p>Precipitation regions are associated with their keyframe and as such their parameters, such as Radius, Strength and Rain - Snow, along with their position on the globe, are interpolated over time.</p>
<div class="video-wrapper">
	<div class="video-container">
		<iframe title="Precipitation Setup" width="560" height="315" src="https://www.youtube.com/embed/pmyUjm__UkI" style="border:0;"  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
	</div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="cloud-window">
<h2>Cloud Window<a class="headerlink" href="#cloud-window" title="Permalink to this heading">¶</a></h2>
<p>After selecting a cloud keyframe from the timeline you wish to modify, you see a light blue box with a light blue shaded circle appear. This represents the static cloud keyframe - precipitation region pair; there will be one of these ‘static’ pairs per selected cloud keyframe from the timeline.</p>
<p>To move a precipitation region, click on the cloud window to select the window focus. Then use Shift + Left Click to drag the precipitation region. Remember that the precipitation region’s position is relative to the position of its cloud keyframe, such that moving the cloud keyframe (with Left Click) will also cause the precipitation region move. The size of precipitation regions is modified by the Radius parameter in the Properties page, and these size changes are reflected in the Cloud Window.</p>
<p>To learn more about the Cloud Window, please view this <a class="reference internal" href="../Sequencer/sequenceroverview.html"><span class="doc">tutorial</span></a>.</p>
<img alt="The Cloud window with a precipitation regions are shown in blue." src="../../_images/CloudWindowPrecipitationRegions.png" />
</section>
<section id="cloud-map-texture">
<h2>Cloud Map Texture<a class="headerlink" href="#cloud-map-texture" title="Permalink to this heading">¶</a></h2>
<p>A cloud map texture can be added to a cloud layer via its Properties window. This acts as a mask for both the cloud and precipitation generation. In terms of precipitation, this mask restricts the area in which precipitation can fall. This mask works in conjunction with the precipitation region to refine further shape of the precipitation volumes.</p>
<img alt="Debug overlays showing the precipitation volumes being affected by the cloud mask." src="../../_images/RainOverlayWithCloudMasks.png" />
</section>
<section id="wind-speed-affecting-rain">
<h2>Wind Speed Affecting Rain<a class="headerlink" href="#wind-speed-affecting-rain" title="Permalink to this heading">¶</a></h2>
<p>Wind speed affects the direction and angle at which the rain will fall within the scene. By altering the wind speed variable within the trueSKY actor, you will be able to alter this. In addition the control “Precipitation Wind Effect” found within the precipitation section of the trueSKY actor will allow you to set how much the wind affects the precipitation angle.</p>
</section>
<section id="precipitation-under-cover">
<h2>Precipitation under cover?<a class="headerlink" href="#precipitation-under-cover" title="Permalink to this heading">¶</a></h2>
<section id="unreal">
<h3>Unreal<a class="headerlink" href="#unreal" title="Permalink to this heading">¶</a></h3>
<p>To prevent precipitation from falling in covered areas, create a SceneCapture2D actor and give it a texture target that contains only a red channel; e.g. RainDepthRT from the trueSKY content. Make the Capture Source “SceneDepth in R”. You don’t need to enable “Capture Every Frame” unless you expect the geometry to change.</p>
<img alt="The SceneCapture2D actor has a RainDepthRT assigned as it's target." src="../../_images/scenecapture2dProperties.png" />
<p>Rotate the SceneCapture2D actor to face downwards.</p>
<p>On the trueSKY Sequence Actor, assign the SceneCapture2D actor to the Rain Mask SceneCapture property. Now precipitation will only appear where there is no cover above the SceneCapture actor.</p>
<img alt="The SceneCapture2D assigned on the trueSKY actor as the rain mask." src="../../_images/precipitationProperties.png" />
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../precipitation.html" class="btn btn-neutral float-left" title="Precipitation" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="precipitationhowitworks.html" class="btn btn-neutral float-right" title="How it works" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2023, Simul Software Ltd.</p>
  </div> 

</footer>
        </div>
      </div>
    </div>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
<div class="overlay" style="display: none;">
    <img class="fullsize" alt="fullscreen image overlay" src="data:,">
</div>
</body>
</html>