<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" ><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" >
  <title>Concepts &mdash; Simul  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" >
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" >
    <link rel="shortcut icon" href="_static/favicon.ico">
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" >
    <link rel="search" title="Search" href="search.html" >
    <link rel="next" title="Tutorials" href="tutorialsindex.html" >
    <link rel="prev" title="Installation and Setup" href="installation.html" > 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
			<a href="index.html"  class="" >
				
					<span class="sidebartitle">
						trueSKY 4.4
					</span>
				
			</a>
<div role="search">
    <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
        <label class="search-label" for="q">Search the documentation</label>
        <input type="text" name="q" id="q" placeholder="Search..." aria-label="Search docs" >
        <input type="hidden" name="check_keywords" value="yes" >
        <input type="hidden" name="area" value="default" >
    </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-cloud-window">The Cloud Window</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorialsindex.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="unreal.html">trueSKY for Unreal Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="skysequencer.html">Sky Sequencer</a></li>
<li class="toctree-l1"><a class="reference internal" href="programming.html">Programming with the trueSKY SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="legalindex.html">trueSKY Licences</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="API/apiindex.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reference/referenceindex.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelist.html">Changelist</a></li>
</ul>

        </div>
      </div>
    </nav>

    <div data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
		<h2 class="wy-nav-top">Navigation</h2><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Simul</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Concepts</li>
      <li class="wy-breadcrumbs-aside">
        ﻿
<div class="truesky-version-switch">
    <button id="version-switch-button">Switch Version</button>
</div>

<script>
    const switchButton = document.getElementById('version-switch-button');

    // current URL
    const currentURL = window.location.href;


    const isVersion4_3 = currentURL.includes('/4.3');
    const isVersion4_4 = currentURL.includes('/4.4');

    if (isVersion4_3) {
        switchButton.textContent = 'Switch to 4.4';
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.4';
        });
    } else if (isVersion4_4) {
        switchButton.textContent = 'Switch to 4.3';
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.3';
        });
    } else {
        switchButton.textContent = 'Switch to 4.3'; 
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.3';
        });
    }
</script>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="concepts">
<h1>Concepts<a class="headerlink" href="#concepts" title="Permalink to this heading">¶</a></h1>
<p>Understanding these concepts will help you get the most out of trueSKY.</p>
<section id="the-cloud-window">
<h2>The Cloud Window<a class="headerlink" href="#the-cloud-window" title="Permalink to this heading">¶</a></h2>
<p>trueSKY creates and updates a “Cloud Window”, a 3D volume of cloud data which occupies an area of Earth’s atmosphere.</p>
<img alt="_images/GeoReferencing.png" src="_images/GeoReferencing.png" />
<p>There are three frames of reference to understand.
The <em>WGS84 (ECEF) Frame</em> (also sometimes called EPSG:4326) is a standard frame of reference for geographic applications
(see <a href="#id1"><span class="problematic" id="id2">`en.wikipedia.org/wiki/World_Geodetic_System#WGS_84&lt;https://en.wikipedia.org/wiki/World_Geodetic_System#WGS_84&gt;`_</span></a>
or en.wikipedia.org/wiki/Geographic_coordinate_conversion &lt;<a class="reference external" href="https://en.wikipedia.org/wiki/Geographic_coordinate_conversion">https://en.wikipedia.org/wiki/Geographic_coordinate_conversion</a>&gt;`_ ).</p>
<p>In this frame:</p>
<ul class="simple">
<li><p>the Z axis points to the North Pole,</p></li>
<li><p>the X axis points to latitude and longitude zero, where the Equator meets the Greenwich Meridian, and</p></li>
<li><p>the Y axis points to 90 degrees East on the Equator.</p></li>
</ul>
<p>So this is a right-handed system (curl the fingers of your right hand from X to Y, and your thumb will point to Z).
Right-handed systems are standard in scientific and engineering applications.</p>
<p>WGS84 positions are usually expressed in km.</p>
<p>The <em>Engine Frame</em> is the frame you are rendering in. If you’re using Unreal or Unity, this is the frame of reference for general rendering in that engine.
In Unity, the Y axis is local vertical (i.e. normal to the Earth’s surface), the axes are left-handed, and values are in metres.
In Unreal, the Z axis is local vertical, but the coordinate system is again left-handed, and values are expressed in centimetres.</p>
<p>In many simulation applications, the engine origin will be located at a point on or above the Earth’s surface. In some cases, the origin may be at the centre of the Earth.</p>
<p>The <em>trueSKY Frame</em> or <em>Cloud Window Frame</em> is trueSKY’s internal frame, which defines the centre of the <em>Cloud Window Volume</em>. This region
is a cuboid projected onto the Earth’s curved surface, typically 600km wide and 20km high.</p>
<p>In the trueSKY Frame:</p>
<ul class="simple">
<li><p>The Z axis points up (local vertical),</p></li>
<li><p>the X and Y axes are arbitrarily oriented, and</p></li>
<li><p>values are expressed in metres unless otherwise specified.</p></li>
</ul>
<p>When you call into trueSKY to render the atmosphere, you will be passing a view matrix in Engine coordinates. Internally, trueSKY translates this into WGS84,
and then into its own frame. trueSKY will usually update the position and orientation of its frame automatically to ensure that rendering is accurate and
that the rendered views are not too far from the centre of the Cloud Window.</p>
<p>You could be rendering a single view, in which case, we want the Cloud Window Frame to track that view. Or you could be rendering multiple views per frame,
and the Cloud Window should try to follow all of them. The position we want the trueSKY Cloud Window to track is called the <em>Desired Centre</em>.</p>
<p>So trueSKY needs to know:</p>
<ul class="simple">
<li><p>Where the Engine Frame is located in WGS84 coordinates.</p></li>
<li><p>Where the Desired Centre is located in Engine coordinates.</p></li>
</ul>
<p>The Cloud Window will <em>not</em> follow the Desired Centre exactly, because it has other requirements to meet. Generally, the Cloud Window frame will change when
the Desired Centre moves more than a whole grid-point away from the Cloud Window origin.</p>
<p>This can be controlled either from the game engine, or via the trueSKY API.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation and Setup" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorialsindex.html" class="btn btn-neutral float-right" title="Tutorials" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2023, Simul Software Ltd.</p>
  </div> 

</footer>
        </div>
      </div>
    </div>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
<div class="overlay" style="display: none;">
    <img class="fullsize" alt="fullscreen image overlay" src="data:,">
</div>
</body>
</html>