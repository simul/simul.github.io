<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" ><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" >
  <title>Lighting Tutorial &mdash; Simul  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" >
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" >
    <link rel="shortcut icon" href="../../_static/favicon.ico">
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" >
    <link rel="search" title="Search" href="../../search.html" >
    <link rel="next" title="Variables" href="lightingvariables.html" >
    <link rel="prev" title="Lighting" href="../lighting.html" > 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
			<a href="../../index.html"  class="" >
				
					<span class="sidebartitle">
						trueSKY 4.4
					</span>
				
			</a>
<div role="search">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
        <label class="search-label" for="q">Search the documentation</label>
        <input type="text" name="q" id="q" placeholder="Search..." aria-label="Search docs" >
        <input type="hidden" name="check_keywords" value="yes" >
        <input type="hidden" name="area" value="default" >
    </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../concepts.html">Concepts</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../tutorialsindex.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../sequencer.html">Sky Sequencer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clouds.html">Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sky.html">Sky</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../lighting.html">Lighting</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Lighting Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#point-lights">Point Lights</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ue4-useage">UE4 useage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unity-usage">Unity Usage</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lightingvariables.html">Variables</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../aurorae.html">Aurorae</a></li>
<li class="toctree-l2"><a class="reference internal" href="../precipitation.html">Precipitation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rainbows.html">Rainbows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storms.html">Storms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../water.html">Water</a></li>
<li class="toctree-l2"><a class="reference internal" href="../time.html">Progressing Time</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../unreal.html">trueSKY for Unreal Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../skysequencer.html">Sky Sequencer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../programming.html">Programming with the trueSKY SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../legalindex.html">trueSKY Licences</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../API/apiindex.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Reference/referenceindex.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelist.html">Changelist</a></li>
</ul>

        </div>
      </div>
    </nav>

    <div data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
		<h2 class="wy-nav-top">Navigation</h2><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Simul</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../tutorialsindex.html">Tutorials</a></li>
          <li class="breadcrumb-item"><a href="../lighting.html">Lighting</a></li>
      <li class="breadcrumb-item active">Lighting Tutorial</li>
      <li class="wy-breadcrumbs-aside">
        ﻿
<div class="truesky-version-switch">
    <button id="version-switch-button">Switch Version</button>
</div>

<script>
    const switchButton = document.getElementById('version-switch-button');

    // current URL
    const currentURL = window.location.href;


    const isVersion4_3 = currentURL.includes('/4.3');
    const isVersion4_4 = currentURL.includes('/4.4');

    if (isVersion4_3) {
        switchButton.textContent = 'Switch to 4.4';
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.4';
        });
    } else if (isVersion4_4) {
        switchButton.textContent = 'Switch to 4.3';
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.3';
        });
    } else {
        switchButton.textContent = 'Switch to 4.3'; 
        switchButton.addEventListener('click', () => {
            window.location.href = '/4.3';
        });
    }
</script>
      </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lighting-tutorial">
<h1>Lighting Tutorial<a class="headerlink" href="#lighting-tutorial" title="Permalink to this heading">¶</a></h1>
<section id="point-lights">
<h2>Point Lights<a class="headerlink" href="#point-lights" title="Permalink to this heading">¶</a></h2>
<p>Point lights can be used to illuminate the clouds. Because of the relative scale of clouds compared to the scene, the intensity of the light must be very large in order to have a visible effect.</p>
<img alt="../../_images/pointlight.png" src="../../_images/pointlight.png" />
</section>
<section id="ue4-useage">
<h2>UE4 useage<a class="headerlink" href="#ue4-useage" title="Permalink to this heading">¶</a></h2>
<p>This can be done with the SetPointLight Blueprint node. Attach one of your point lights in the scene to our Set Point Light function, allowing trueSKY to take the properties and apply it to the clouds.</p>
<img alt="../../_images/setpointlightblueprint.png" src="../../_images/setpointlightblueprint.png" />
<p>If you do not have a PointLight actor, you can use SetPointLightSource to create a new point light and individually apply the position, colour and intensity of a light to the clouds.</p>
<img alt="../../_images/setpointlightsource.png" src="../../_images/setpointlightsource.png" />
<section id="brightness-power">
<h3>Brightness Power<a class="headerlink" href="#brightness-power" title="Permalink to this heading">¶</a></h3>
<p>The sky at sunrise can be less than one quarter as bright as at noon. Moonlight is hundreds of times dimmer than sunlight. Starlight is much dimmer still. The human eye adjusts to a very wide range of light conditions, but for rendering we usually apply a brightness, or exposure level, to make dark scenes visible and bright scenes clear.</p>
<p>The Brightness Power value for a sky sequence adjusts the light levels to compensate for this large variation by introducing a power function.</p>
<p>If the Power is 1.0, there is no adjustment. If it is 0.5, it will be a square-root dependence, e.g. a light 4 times dimmer than daylight would appear only half as dim, and so on.</p>
</section>
<section id="physical-units-truesky-4-1-onward">
<h3>Physical Units (trueSKY 4.1 onward)<a class="headerlink" href="#physical-units-truesky-4-1-onward" title="Permalink to this heading">¶</a></h3>
<p>trueSKY is a physically-based renderer, which means that the light and colour values generated correspond to true physical properties. The pixel colours rendered to a view are spectral radiance values. However, to keep the numbers from getting too high or low, a global adjustment is applied. This is because numerical accuracy would be lost, particularly for very dark night-time scenes, if we kept the same scale at all times. The Sky property “Brightness Power” controls this adjustment - if equal to one, there is no adjustment. Values smaller than one reduce the range of outputs - brightening dark skies and dimming very bright skies. To obtain the current value of the multiplier, use the Blueprint function “GetReferenceSpectralRadiance”. Then you can use the calculation:</p>
<blockquote>
<div><p>spectral radiance (watts/square metre/steradian/nm) = pixel value * reference spectral radiance</p>
</div></blockquote>
<p>You can use this value to calibrate the other lights in your scene. Say you have a point light representing an electric bulb. The brightness of this light would in reality be constant. But because trueSKY adjusts the physical value of a pixel as time passes, you must compensate for this by scaling the intensity of the bulb by the inverse of the reference radiance.</p>
<img alt="../../_images/ReferenceSpectralRadiance.png" src="../../_images/ReferenceSpectralRadiance.png" />
<p><em>Using the spectral radiance value to modulate the intensity of lights in the scene.</em></p>
<p>So the light appears to get brighter as day turns to night. You can get the same effect using Unreal’s Eye Adaptation (Auto Exposure). But because this is a post-process effect, it cannot cope with very dark scenes - you may see banding in the sky colours due to the low numerical accuracy of very small numbers.</p>
<img alt="../../_images/DayLightRadiance.png" src="../../_images/DayLightRadiance.png" />
<p><em>Spectral radiance example: Day</em></p>
<img alt="../../_images/SunsetLightRadiance.png" src="../../_images/SunsetLightRadiance.png" />
<p><em>Spectral radiance example: Sunset</em></p>
<img alt="../../_images/NightLightRadiance.png" src="../../_images/NightLightRadiance.png" />
<p><em>Spectral radiance example: Night</em></p>
</section>
<section id="light-units">
<h3>Light Units<a class="headerlink" href="#light-units" title="Permalink to this heading">¶</a></h3>
<p>If you would like to use Lux for your light units, so direct light is over 100k, you will need to switch to Photometric Units. This is done under the Lighting Section on the trueSKYActor, in the additional drop down tab. This will make your scene unbearably bright unless you know how to adjust Unreal’s Exposure settings. When using Lux, make sure to set the Brightness Power to 1 to remove the Adjustment, and be aware of the size of your Irradiance Values. This is a work in progress.</p>
</section>
<section id="transparency">
<h3>Transparency<a class="headerlink" href="#transparency" title="Permalink to this heading">¶</a></h3>
<p>In a material that uses transparency, insert the trueSKYTransparencyModifier function between the inputs and the final output node:</p>
<img alt="../../_images/Transparency.png" src="../../_images/Transparency.png" />
<p><em>Using the trueSKYTransparencyModifier material function to modulate the material output values</em></p>
</section>
</section>
<section id="unity-usage">
<h2>Unity Usage<a class="headerlink" href="#unity-usage" title="Permalink to this heading">¶</a></h2>
<p>To do so, access the trueSKY object and call:</p>
<p>public void SetPointLight(int id, Vector3 pos, float min_radius, float max_radius, Vector3 irradiance)</p>
<p>This function will map point lights to the given id, so it can be called to both create a point light and to change the values of an existing point light.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../lighting.html" class="btn btn-neutral float-left" title="Lighting" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="lightingvariables.html" class="btn btn-neutral float-right" title="Variables" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2023, Simul Software Ltd.</p>
  </div> 

</footer>
        </div>
      </div>
    </div>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 
<div class="overlay" style="display: none;">
    <img class="fullsize" alt="fullscreen image overlay" src="data:,">
</div>
</body>
</html>