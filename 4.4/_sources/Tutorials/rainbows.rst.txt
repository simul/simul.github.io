Rainbows
====================
Rainbows are automatically generated by trueSKY providing that a number of conditions are met.

   *  :doc:`Tutorial <Rainbows/rainbowstutorial>` - Learn how to create a rainbows in your scene.
   *  :doc:`How it works <Rainbows/rainbowshowitworks>` - Learn more about how we create rainbows in trueSKY!
   *  :doc:`Variables <Rainbows/rainbowsvariables>` - Details of all the different variables for generating rainbows.

.. toctree::
   :maxdepth: 2
   :hidden:
   :titlesonly:

   Rainbows/rainbowstutorial.rst
   Rainbows/rainbowshowitworks.rst
   Rainbows/rainbowsvariables.rst

No Rainbows?
-----------
Ensure that you are viewing precipitation with both the Rain Strength and Rain Streaks values greater than 0. Also check that not too much cloud is occluding the sun. If the moon is the main light source in the scene, check that it's not occluded and the moon is at or close to a full moon. Check the intensity is not set to 0 and that the raindrop size is greater than 0.05mm. You can also check the Rainbow lookup texture by selecting the Cloud Cross-sections on-screen overlays, if this texture is black no rainbows can be composited.

Rainbows with an Elevation greater than zero?
---------------------------------------------
Currently this features is not support by trueSKY. The ability to re-position rainbows is there to allow the user to decouple it from the main directional light source whilst maintaining our physical based approach. With a positive elevation the light source would therefor be below the horizon, thus generating a rainbow for this light source would be impossible. 

Full Circle Rainbows?
---------------------
These rainbows are generated by default, however you will need to position the camera, so that all parts of the circle have precipitation behind them. This is best achieved by raising the camera above the clouds and adjusting the Depth Point parameter.

Disable All Rainbows?
---------------------
If you decide that no rainbows should occur in your scene, simply set the rainbow intensity to 0. This will stop trueSKY rendering the lookup texture and compositing the rainbow, freeing up GPU time and resources.

Performance?
------------
See the :doc:`How it works <Rainbows/rainbowshowitworks>` section.

Limitation of trueSKY's Rainbow System
--------------------------------------
As this is a newly implemented Rainbow system, not all atmospheric optical phenomena involving spectra are implemented. Currently trueSKY doesn't support:
* Third-order and higher rainbows.
* Fogbows and Brocken Spectre.
* Circumhorizontal and Circumzenithal Arcs.
* Non-Water based rainbows.
* Halos, Light Pillars, Sun and Moon dogs (called Parhelia and Paraselenae respectively), which use ice crystrals instead of raindrops.

Let us know if there's something you want relating to rainbows for your project by contacting us at contact@simul.co.