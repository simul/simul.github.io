<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Performance &mdash; Simul  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Debugging" href="debugging.html" />
    <link rel="prev" title="Rendering Techniques in trueSKY" href="rendering.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Simul
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorialsindex.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unreal.html">trueSKY for Unreal Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unity.html">trueSKY for Unity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../skysequencer.html">Sky Sequencer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../programming.html">Programming with the trueSKY SDK</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="nativesdk.html">Native Development with the trueSKY SDK</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginrenderer.html">The TrueSkyPluginRender Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="rendering.html">Rendering Techniques in trueSKY</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Performance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ue4-specific-profiling">UE4 Specific Profiling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#high-cost-settings">High Cost Settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#clouds">Clouds</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#maximum-cloud-resolution">Maximum Cloud Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#maximum-cloud-distance">Maximum Cloud Distance</a></li>
<li class="toctree-l4"><a class="reference internal" href="#render-grid-size">Render Grid Size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-number-steps">Default Number Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#amortization">Amortization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sky">Sky</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">Amortization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#water">Water</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution">Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#screen-space-reflections">Screen Space Reflections</a></li>
<li class="toctree-l4"><a class="reference internal" href="#profile-buffer-resolution">Profile Buffer Resolution</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#low-performance">Low performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-skydome-with-truesky-ue4">Create a SkyDome with trueSKY (UE4)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#known-performance-issues">Known Performance Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="deployment.html">trueSKY Deployment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legalindex.html">trueSKY Licences</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../API/apiindex.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reference/referenceindex.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelist.html">Changelist</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Simul</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../programming.html">Programming with the trueSKY SDK</a></li>
      <li class="breadcrumb-item active">Performance</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/Programming/profiling.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="performance">
<h1>Performance<a class="headerlink" href="#performance" title="Permalink to this heading"></a></h1>
<p>We have worked hard to make sure trueSKY will run on many different architectures, and we know each of these have different capabilities. That is why trueSKY’s setting can be adjusted to make it run as efficiently as possible, talking up only a few ms in processing time.</p>
<p>Use the Blueprint function GetProfilingText to get GPU and CPU timing numbers for trueSKY as a tree. trueSKY performance is highly dependent on your choice of settings. Once you have good settings for a given target hardware setup, performance will be consistent - i.e. there won?t be spikes or hitches. For PC, you may want to make some of these settings controllable for the end user. For console hardware, it is usually best to choose the settings based on your target GPU time for skies, then lock them down.</p>
<section id="ue4-specific-profiling">
<h2>UE4 Specific Profiling<a class="headerlink" href="#ue4-specific-profiling" title="Permalink to this heading"></a></h2>
<p>trueSKY for Unreal has a built-in GPU and CPU profiler that shows detailed performance information. To enable it, use the console command</p>
<blockquote>
<div><p><strong>r.truesky.profiling 1</strong></p>
</div></blockquote>
<p>Profiling is displayed as a tree. You can append the maximum detail levels for the GPU and CPU to the command, e.g.</p>
<blockquote>
<div><p><strong>r.truesky.profiling 1 7 5</strong></p>
</div></blockquote>
<p>This will show a profiling tree seven levels deep for the GPU, and five levels deep for the CPU.</p>
<p>To output the profiling data to the Log, use</p>
<blockquote>
<div><p><strong>trueskyprofileframe</strong></p>
</div></blockquote>
<p>Depending on the output, you may want to adjust different trueSKY parameters for optimal performance.</p>
<section id="high-cost-settings">
<h3>High Cost Settings<a class="headerlink" href="#high-cost-settings" title="Permalink to this heading"></a></h3>
<p>We are always aiming to increase performance where we can. This section may change based on improvements we make.</p>
</section>
</section>
<section id="clouds">
<h2>Clouds<a class="headerlink" href="#clouds" title="Permalink to this heading"></a></h2>
<section id="maximum-cloud-resolution">
<h3>Maximum Cloud Resolution<a class="headerlink" href="#maximum-cloud-resolution" title="Permalink to this heading"></a></h3>
<p>At resolutions over 1024, the cost can be very great. There is minimal difference from 1024 and upwards, usually 512 is optimal for most scenarios.</p>
</section>
<section id="maximum-cloud-distance">
<h3>Maximum Cloud Distance<a class="headerlink" href="#maximum-cloud-distance" title="Permalink to this heading"></a></h3>
<p>Cloud distance can produce a heavy performance impact, but usually is only noticed at high altitudes. If you have increased this value, this is one of the first settings you could likely reduce.</p>
</section>
<section id="render-grid-size">
<h3>Render Grid Size<a class="headerlink" href="#render-grid-size" title="Permalink to this heading"></a></h3>
<p>Grid size can be our most expensive variable if set to a low value such as (0.1, 0.1), an increasing it can help improve performance drastically. Increasing grid size will improve performance, but will make the grid more noticeable amongst the clouds. To counteract that, you can adjust the different noise values.</p>
</section>
<section id="default-number-steps">
<h3>Default Number Steps<a class="headerlink" href="#default-number-steps" title="Permalink to this heading"></a></h3>
<p>Reducing the number of ray-tracing steps from within the clouds will give a helpful performance boost.</p>
</section>
<section id="amortization">
<h3>Amortization<a class="headerlink" href="#amortization" title="Permalink to this heading"></a></h3>
<p>Spreading the cost of rendering over multiple frames is a great way to improve performance. If you or the clouds are moving quickly however, high Amortization setting can make the clouds appear pixelated as they translate across the screen.</p>
</section>
</section>
<section id="sky">
<h2>Sky<a class="headerlink" href="#sky" title="Permalink to this heading"></a></h2>
<section id="id1">
<h3>Amortization<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h3>
<p>Just like the cloud Amortization, spreading rendering costs for the atmosphere will always help improve performance, but is not recommend for fast moving scenes.</p>
</section>
</section>
<section id="water">
<h2>Water<a class="headerlink" href="#water" title="Permalink to this heading"></a></h2>
<section id="resolution">
<h3>Resolution<a class="headerlink" href="#resolution" title="Permalink to this heading"></a></h3>
<p>The resolution of the water (Found in the trueSKY Actor Settings) is again an obvious value. (In some versions, Half-Resolution has an view issue that is currently being resolved)</p>
</section>
<section id="screen-space-reflections">
<h3>Screen Space Reflections<a class="headerlink" href="#screen-space-reflections" title="Permalink to this heading"></a></h3>
<p>Screen-space Reflections on a boundless ocean can produce a large performance hit.</p>
</section>
<section id="profile-buffer-resolution">
<h3>Profile Buffer Resolution<a class="headerlink" href="#profile-buffer-resolution" title="Permalink to this heading"></a></h3>
<p>If you have noticed your water “shimmering”, it may be because you need to increase your buffer resolution. A low minimum and high maximum waves mean you will need to increase the resolution for the water to stay looking great.</p>
</section>
</section>
<section id="low-performance">
<h2>Low performance<a class="headerlink" href="#low-performance" title="Permalink to this heading"></a></h2>
<section id="create-a-skydome-with-truesky-ue4">
<h3>Create a SkyDome with trueSKY (UE4)<a class="headerlink" href="#create-a-skydome-with-truesky-ue4" title="Permalink to this heading"></a></h3>
<p>With trueSKY, you can create an Cubemap of the sky. While you will lose some visual fidelity and the ability to move through the clouds, this is a great way to incorporate high quality, customised clouds with a minimal performance hit.</p>
<p>This is currently done through a blueprint, RendertoCubeMap. Select your cubemap resolution, and the cubemap you want to draw to.</p>
</section>
</section>
<section id="known-performance-issues">
<h2>Known Performance Issues<a class="headerlink" href="#known-performance-issues" title="Permalink to this heading"></a></h2>
<p>We are currently aware of an issue with older graphics cards, which in full-screen can cause severe frame drops. We are working on a solution, which should boost performance for all graphics cards.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rendering.html" class="btn btn-neutral float-left" title="Rendering Techniques in trueSKY" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="debugging.html" class="btn btn-neutral float-right" title="Debugging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2023, Simul Software Ltd.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>