

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>trueSKY Deployment &mdash; Simul  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Plugin Rendering Interface" href="programminginterface.html" />
    <link rel="prev" title="Debugging" href="programmingdebugging.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Simul
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorialsindex.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unrealindex.html">trueSKY for Unreal Engine 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unityindex.html">trueSKY for Unity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sdk.html">trueSKY SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../skysequencer.html">Simul Sky Sequencer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../programmingindex.html">Programming Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="programmingrendering.html">Rendering Techniques within trueSKY</a></li>
<li class="toctree-l2"><a class="reference internal" href="programmingprofiling.html">Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="programmingdebugging.html">Debugging</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">trueSKY Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#for-unreal">For Unreal</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#my-sky-is-black-when-i-package">My Sky is black when I Package!</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-cooked-games">Running Cooked Games</a></li>
<li class="toctree-l4"><a class="reference internal" href="#console-deployment">Console Deployment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#unity">Unity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="programminginterface.html">Plugin Rendering Interface</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legalindex.html">trueSKY Licences</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../API/apiindex.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Reference/referenceindex.html">Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Simul</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../programmingindex.html">Programming Guide</a> &raquo;</li>
        
      <li>trueSKY Deployment</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Programming/programmingdeployment.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="truesky-deployment">
<h1>trueSKY Deployment<a class="headerlink" href="#truesky-deployment" title="Permalink to this headline">¶</a></h1>
<div class="section" id="for-unreal">
<h2>For Unreal<a class="headerlink" href="#for-unreal" title="Permalink to this headline">¶</a></h2>
<div class="section" id="my-sky-is-black-when-i-package">
<h3>My Sky is black when I Package!<a class="headerlink" href="#my-sky-is-black-when-i-package" title="Permalink to this headline">¶</a></h3>
<p>Previous versions of trueSKY had issues when packaging the game with both trueSKY and Niagara particles. We have now fixed our conflicts with the Niagara systems and as such if you encounter any issue please inform us via the Q+A page so we can investigate the issue further.</p>
<p>The previous solution was to disable the Niagara plugin or if you are using UE Source to change the two relevant files which can be obtained via a pull request here - <a class="reference external" href="https://github.com/EpicGames/UnrealEngine/pull/6414">https://github.com/EpicGames/UnrealEngine/pull/6414</a> - however this should no longer be required.</p>
<p>If you encounter a new case of your sky appearing black within a packaged game please enter a new bug ticket or question within the Q+A Board.</p>
</div>
<div class="section" id="running-cooked-games">
<h3>Running Cooked Games<a class="headerlink" href="#running-cooked-games" title="Permalink to this headline">¶</a></h3>
<p>The trueSKY DLL’s are  located in [UE4]/Engine/Binaries/ThirdParty/Simul. When you package, cook, or launch a build, UE4 does not yet provide the capability to automatically deploy files to a build. Therefore on the Simul branch of UE4, this code has been inserted into [UE4]/Engine/Source/Programs/AutomationTool/Win/WinPlatform.Automation.cs (see line 43):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Binaries/ThirdParty/Simul&quot;, SC.PlatformDir), &quot;TrueSkyPluginRender_MT.dll&quot;, StageFilesSearch.TopDirectoryOnly);
if (!SC.StageTargetConfigurations.Contains(UnrealTargetConfiguration.Shipping))
        SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Binaries/ThirdParty/Simul&quot;, SC.PlatformDir), &quot;TrueSkyPluginRender_MT.pdb&quot;, StageFilesSearch.TopDirectoryOnly);
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Plugins/TrueSkyPlugin/Resources&quot;), &quot;*.*&quot;, StageFilesSearch.TopDirectoryOnly);
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Plugins/TrueSkyPlugin/Content&quot;), &quot;*.*&quot;, StageFilesSearch.TopDirectoryOnly);
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Plugins/TrueSkyPlugin/shaderbin&quot;, SC.PlatformDir), &quot;*.fxo&quot;, StageFilesSearch.TopDirectoryOnly);
</pre></div>
</div>
<p>To rebuild the tools, build the UE4 solution in the “Development” configuration. This will recreate the executables located in the [UE4]/Engine/Binaries/DotNET directory.</p>
<p>If you’re using the binary distribution of UE with the trueSKY plugin binary installer, you won’t have this file: you’ll need to copy the resources manually. After packaging, find the “Engine” directory in your game, and copy:</p>
<ul class="simple">
<li><p>(UE)/Engine/Binaries/ThirdParty/Simul to (GAME)/Engine/Binaries/ThirdParty/Simul</p></li>
<li><p>(UE)/Engine/Plugins/TrueSkyPlugin/Resources to (GAME)/Engine/Plugins/TrueSkyPlugin/Resources</p></li>
<li><p>(UE)/Engine/Plugins/TrueSkyPlugin/Content to (GAME)/Engine/Plugins/TrueSkyPlugin/Content</p></li>
<li><p>(UE)/Engine/Plugins/TrueSkyPlugin/shaderbin to (GAME)/Engine/Plugins/TrueSkyPlugin/shaderbin</p></li>
</ul>
<p>Now you are ready to run your game with trueSKY.</p>
</div>
<div class="section" id="console-deployment">
<h3>Console Deployment<a class="headerlink" href="#console-deployment" title="Permalink to this headline">¶</a></h3>
<p>As the console automation files are not in the Git repository, it is not possible to distribute the necessary changes. So you must modify by hand the console Platform.Automation.cs files, in the function GetFilesToDeployOrStage(), add:</p>
<p><strong>4.18 and above (XBoxOne):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/// BEGIN trueSKY Additional code
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Binaries/ThirdParty/Simul&quot;, SC.PlatformDir), &quot;TrueSkyPluginRender_MD.dll&quot;, StageFilesSearch.TopDirectoryOnly);
if(!SC.StageTargetConfigurations.Contains(UnrealTargetConfiguration.Shipping))
        SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Binaries/ThirdParty/Simul&quot;, SC.PlatformDir), &quot;TrueSkyPluginRender_MD.pdb&quot;, StageFilesSearch.TopDirectoryOnly);
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Plugins/TrueSkyPlugin/Resources&quot;), &quot;*.*&quot;, StageFilesSearch.AllDirectories);
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Plugins/TrueSkyPlugin/Content&quot;), &quot;*.*&quot;, StageFilesSearch.AllDirectories);
SC.StageFiles(StagedFileType.NonUFS, DirectoryReference.Combine(SC.LocalRoot, &quot;Engine/Plugins/TrueSkyPlugin/shaderbin&quot;,SC.PlatformDir), &quot;*.*&quot;, StageFilesSearch.AllDirectories);
/// END trueSKY Additional code
</pre></div>
</div>
<p><strong>4.18 and above (PS4):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">///</span> <span class="n">BEGIN</span> <span class="n">trueSKY</span> <span class="n">Additional</span> <span class="n">code</span>
<span class="n">SC</span><span class="o">.</span><span class="n">StageFiles</span><span class="p">(</span><span class="n">StagedFileType</span><span class="o">.</span><span class="n">NonUFS</span><span class="p">,</span> <span class="n">DirectoryReference</span><span class="o">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">SC</span><span class="o">.</span><span class="n">LocalRoot</span><span class="p">,</span> <span class="s2">&quot;Engine/Binaries/ThirdParty/Simul&quot;</span><span class="p">,</span> <span class="n">SC</span><span class="o">.</span><span class="n">PlatformDir</span><span class="p">),</span> <span class="s2">&quot;trueskypluginrender.prx&quot;</span><span class="p">,</span> <span class="n">StageFilesSearch</span><span class="o">.</span><span class="n">TopDirectoryOnly</span><span class="p">);</span>
<span class="n">SC</span><span class="o">.</span><span class="n">StageFiles</span><span class="p">(</span><span class="n">StagedFileType</span><span class="o">.</span><span class="n">NonUFS</span><span class="p">,</span> <span class="n">DirectoryReference</span><span class="o">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">SC</span><span class="o">.</span><span class="n">LocalRoot</span><span class="p">,</span> <span class="s2">&quot;Engine/Plugins/TrueSkyPlugin/Resources&quot;</span><span class="p">),</span> <span class="s2">&quot;*.*&quot;</span><span class="p">,</span> <span class="n">StageFilesSearch</span><span class="o">.</span><span class="n">AllDirectories</span><span class="p">);</span>
<span class="n">SC</span><span class="o">.</span><span class="n">StageFiles</span><span class="p">(</span><span class="n">StagedFileType</span><span class="o">.</span><span class="n">NonUFS</span><span class="p">,</span> <span class="n">DirectoryReference</span><span class="o">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">SC</span><span class="o">.</span><span class="n">LocalRoot</span><span class="p">,</span> <span class="s2">&quot;Engine/Plugins/TrueSkyPlugin/textures&quot;</span><span class="p">),</span> <span class="s2">&quot;*.*&quot;</span><span class="p">,</span> <span class="n">StageFilesSearch</span><span class="o">.</span><span class="n">AllDirectories</span><span class="p">);</span>
<span class="n">SC</span><span class="o">.</span><span class="n">StageFiles</span><span class="p">(</span><span class="n">StagedFileType</span><span class="o">.</span><span class="n">NonUFS</span><span class="p">,</span> <span class="n">DirectoryReference</span><span class="o">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">SC</span><span class="o">.</span><span class="n">LocalRoot</span><span class="p">,</span> <span class="s2">&quot;Engine/Plugins/TrueSkyPlugin/Content&quot;</span><span class="p">),</span> <span class="s2">&quot;*.*&quot;</span><span class="p">,</span> <span class="n">StageFilesSearch</span><span class="o">.</span><span class="n">AllDirectories</span><span class="p">);</span>
<span class="n">SC</span><span class="o">.</span><span class="n">StageFiles</span><span class="p">(</span><span class="n">StagedFileType</span><span class="o">.</span><span class="n">NonUFS</span><span class="p">,</span> <span class="n">DirectoryReference</span><span class="o">.</span><span class="n">Combine</span><span class="p">(</span><span class="n">SC</span><span class="o">.</span><span class="n">LocalRoot</span><span class="p">,</span> <span class="s2">&quot;Engine/Plugins/TrueSkyPlugin/shaderbin&quot;</span><span class="p">,</span> <span class="n">SC</span><span class="o">.</span><span class="n">PlatformDir</span><span class="p">),</span> <span class="s2">&quot;*.*&quot;</span><span class="p">,</span> <span class="n">StageFilesSearch</span><span class="o">.</span><span class="n">AllDirectories</span><span class="p">);</span>
<span class="o">///</span> <span class="n">END</span> <span class="n">trueSKY</span> <span class="n">Additional</span> <span class="n">code</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="unity">
<h2>Unity<a class="headerlink" href="#unity" title="Permalink to this headline">¶</a></h2>
<p>When deploying a Unity package simply navigate through to File -&gt; Build Settings and ensure that the architecture is set to x86_64 otherwise trueSKY will render as black due to trueSKY not support 32 bit architecture.</p>
<p>From here everything should work as expected when using Unitys default build settings.</p>
<p>HDRP coming Soon</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="programminginterface.html" class="btn btn-neutral float-right" title="Plugin Rendering Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="programmingdebugging.html" class="btn btn-neutral float-left" title="Debugging" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2007-2021, Simul Software Ltd.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>